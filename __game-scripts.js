var Script2=pc.createScript("script2"),bool=!1,offset=2;Script2.prototype.initialize=function(){this.time=0,this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this)},Script2.prototype.update=function(t){var i=20*Math.sin(2*this.time);this.entity.setLocalEulerAngles(0,i,0),this.time+=t},Script2.prototype.onSelect=function(t){if(t.button==pc.MOUSEBUTTON_LEFT){var i=this.entity.root.findByName("Camera").camera,e=i.screenToWorld(t.x,t.y,i.nearClip),r=i.screenToWorld(t.x,t.y,i.farClip),o=this.app.systems.rigidbody.raycastFirst(e,r);if(o){var p=o.entity,n=p.parent.children.indexOf(p);this.app.setSelectedIndex(n)}}};var Script=pc.createScript("script");Script.prototype.initialize=function(){this.time=0;var e=this;window.addEventListener("message",(function(t){switch(t.data.action){case"changeColor":var a=e.entity.model.meshInstances[1].material;a.diffuse=new pc.Color(...t.data.rgb),a.update();break;case"changeTexture":var i=new pc.Texture(e.app.graphicsDevice,{}),n=document.createElement("img");n.src=t.data.base64,n.onload=function(t){i.setSource(n);var a=e.entity.model.meshInstances[2].material;a.emissiveMap=i,a.update()}}}),!1)},Script.prototype.update=function(e){var t=20*Math.sin(2*this.time);this.entity.setLocalEulerAngles(0,t,0),this.time+=e};var Script3=pc.createScript("script3");Script3.prototype.initialize=function(){this.selected=1;var e=this;this.app.setSelectedIndex=function(t){e.selected=t,e.entity.children[0].setLocalPosition(0,1.3,-2*(t-1)),window.parent.postMessage({event:"secetionChanged",color:e.entity.children[e.selected].model.meshInstances[1].material.diffuse},"*")},this.app.addTVSet=function(){var t=e.entity.children[e.entity.children.length-1].clone(),i=t.model.meshInstances;i[2].material=i[2].material.clone(),i[1].material=i[1].material.clone();for(var n=3;n<i.length;n++)i[n].material=i[1].material;t.setLocalPosition(0,1,-2*(e.entity.children.length-1)),e.entity.addChild(t),e.entity.setLocalPosition(0,0,e.entity.children.length-2)},window.addEventListener("message",(function(t){switch(t.data.action){case"changeColor":var i=e.entity.children[e.selected].model.meshInstances[1].material;i.diffuse=new pc.Color(...t.data.rgb),i.update();break;case"changeTexture":var n=new pc.Texture(e.app.graphicsDevice,{}),a=document.createElement("img");a.src=t.data.base64,a.onload=function(t){n.setSource(a);var i=e.entity.children[e.selected].model.meshInstances[2].material;i.emissiveMap=n,i.update()}}}),!1)};var Button=pc.createScript("button");Button.prototype.initialize=function(){this.entity.button.on("click",(function(){this.app.addTVSet()}),this)},Button.prototype.update=function(t){};